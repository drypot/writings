# 자바 삽질의 기록 2009.09

2010-11-28 13:29

아직 리눅스까지 내려가지 못하고 윈도우 위에서 자바 관련 부분만 보고 있다.

좀 모험인데 데이터베이스를 Derby 쓰기로 했다.
자바로 만들어진 디비인데 Jar 다해도 크기가 2 메가가 안 된다. 포터빌러티는 극강.

벤치마크상으로는 MySQL 보다 3 배쯤 느린데 결과는 라이브 가봐야 알 것 같다.
유틸리티 기능들은 떨어지지만 트랜젝션, 온라인 백업 정도의 기본은 한다.
스냅샷 방식 트렌젝션 없는 것이 조금 아쉬운 정도.

상용 디비들 기능은 좋으나 불필요한 것도 너무나 많이 붙어서 어떤 한계지점을 넘은 것 같다.
MySQL 은 윈도우/리눅스간 사소한 호환성 문제가 있고, 스토리지 엔진 바꾸면서 생기는 단점들이 좀 걸린다.
점유율 30% 가까이 되니 문제야 없겠지만.

웹 서버는 아파치 앞에 안 세우고 Jetty 막바로 쓰려고 한다.
여러 도메인 달리게 되면 관리가 좀 불편해 지는데 일단 닥쳐보는 걸로, =,=

웹 프레임웍으로 Grails 는 아직 변함이 없다.

언어는 Scala 하고 Groovy 고민하다가 그냥 Groovy 에 베팅하기로 했다.
Groovy 가 느린 부분에서는 Java 나 Scala 보다 100 배까지 느려지는데,
내년에 Java 7 나오면 다빈치 머신으로 좀 빨리지지 않을까 희망을 가지고.

디비 억세스 방식 결정이 남았는데 SQL/JDBC 바로 쓸지, Hibernate 통할지 고민중이다.
첨에는 속도 때문에 ORM 무시하려고 하다가
다른 부분은 유지보수, 생명연장 쪽으로 결정하면서 여기만 다른 기준 적용하는 것이 걸려서,
Hibernate 관련 PDF 800 페이지 달리는 중이다.

현재 그림은 자바로 만든 디비 + 자바로 만든 웹서버 + 자바 웹 프레임웍으로 모두 JVM 위에 올리는 것으로.
이번 주에 코딩 들어가려고 했는데, 하이버네이트 때문에 한주 밀리겠다.

운 나쁘면 기존 사이트보다 300 배 느려지는 것이고,
잘 되고 몇 년 뒤 좋은 세상 오면, 지금 처럼 웹 서버 머신 자체 운영 안 하고,
구글 앱 엔진 같은 서비스에 어플리케이션을 통채로 올려 버리는 것이 가능할 지도.