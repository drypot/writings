# Tomcat CATALINA_BASE

2010-11-29 16:19

톰켓은 거의 항상 설정을 수정해 사용해야합니다.
베이스 디렉토리도 바꾸고, 웹 어플리케이션도 등록하고, 필요한 라이브러리도 넣어야하고, 로그 형식도 바꿔야하고.

그런데 이런 수정작업을 압축푼 톰켓 베이스 디렉토리에 바로하면
톰켓을 업그레이드하기가 난감해집니다.

그래서, 톰켓에서는 모든 사용자 설정을 별도 디렉토리에 모아 놓을 수 있게 되어있습니다.

톰켓 압축 푼 디렉토리를 CATALINA_HOME 환경 변수에 지정하는 것은 많이 보셨을 것이고요.
위에 언급한 설정 디렉토리는 CATALINA_BASE 환경 변수에 지정해 주시면 됩니다.

이걸로 끝이고.

앞으로 추가적인 라이브러리들은 $CATALINA_BASE/lib 에
톰켓 뜰 때 먼가 스크립트를 실행시켜야 한다면 $CATALINA_BASE/bin/setenv.sh 에
나만의 톰켓 설정들은 $CATALINA_BASE/conf 에
두시면 됩니다.

톰켓을 업그레이드해도 내 설정들은 그대로.

서버 관리자 입장에서 보면 저리하면 깔끔하겠고요.

문제는 개발자 입장에서 eclipse 의 톰켓 플러그인이
CATALINA_BASE 를 활용하는 것이 직관적이지 않고 불편합니다. =,=

그래도 쓸 수는 있는데,

Servers 패널에 톰켓 인스턴스 만드시고 이미 어플리케이션을 매달으셨다면 설정 불가능이고요. =,=

Servers 패널에 톰켓 인스턴스 만드시고 어플리케이션 매달지 마시고, 바로 나와서,
F3 으로 열어보시면, Server Location 판대기 3 번째 옵션에 use custom location 지정하시고,
아래 server path 에서 CATALINA_BASE 디렉토리를 지정해주시면 됩니다.

이 과정 끝난 후에 어플리케이션 매달고 쓰시면,
CATALINA_BASE 에 설정해둔 내용이 모두 적용됩니다.

Intellij IDEA 경우는 서버 등록할 때 BASE 디렉토리 물어보니 걍 거기서 지정하면 끝.