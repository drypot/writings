# Scala Is Compatible

2011-07-07 23:04

### Scala Is Compatible / 스칼라는 호환성을 갖는다

스칼라 프로그램은 JVM 바이트코드로 컴파일된다.
스칼라는 자바 플랫폼와 부드럽게 상호작용하도록 디자인 되었기 때문에 기존 코드를 재활용할 수 있다.
런타임 성능은 일반적으로 자바 프로그램과 동등하다.
자바 메서드와  필드에 접근할 수 있고, 자바 클래스를 상속할 수 있고, 자바 인터페이스를 구현할 수 있다.
특별한 문법이나 명시적인 인터페이스 선언, 연결 코드 등은 필요없다.
사실 대부분의 스칼라 코드는 자바 라이브러리를 광범위하게 사용한다.

스칼라는 많은 자바 타입들을 재사용한다.
스칼라의 Int 는 자바의 int 기본 정수 타입으로, Float 는 float 로, Boolean 은 boolean 으로 구현된다.
스칼라 배열은 자바 배열로 매핑된다.

스칼라는 많은 표준 자바 라이브러리들도 재사용한다.
스칼라 스트링 리터럴 "abc" 의 타입은 java.lang.String 이다.
예외를 던질 경우 java.lang.Throwable 의 서브클래스를 사용한다.

스칼라는 자바 타입들을 재사용할 뿐만 아니라 보다 멋지게 치장하기도 한다.
스칼라 스트링은 스트링을 정수나 실수로 변환하기 위한 toInt 나 toFloat 메서드를 지원한다.
Integer.parseInt(str) 대신 str.toInt 라고 쓸 수 있다.
상호 운영성을 깨지 않고 어떻게 이런 일이 가능할까?
자바의 String 클래스는 toInt 라는 메서드가 없다!

스칼라는 자바와의 상호 운영성을 해치지 않고도 발전된 라이브러리 디자인을 가능하게 하기 위해 자동 타입 변경(implicit conversion) 기능을 가지고 있다.
타입이 일치하지 않거나 존재하지 않는 멤버가 적용되었을 때 오브젝트를 다른 타입으로 자동 변경할 수 있는 기능이다.
String 클래스에는 toInt 메서드가 없지만, StringOps 클래스에는 있다.
또 String 을 StringOps 오브젝트로 변환하는 자동 타입 변환(implicit conversion)이 정의되어 있기 때문에
String 에 toInt 메서드가 적용되면 이 스트링을 StringOps 타입으로 먼저 변경한 후 toInt 를 호출한다.

자바 코드에서 스칼라 코드를 호출할 수도 있다.
하지만 스칼라는 자바보다 더 기능이 많은 언어이어서 고급 기능들중 일부는 자바 코드쪽으로 노출될 때 다소 복잡해 보일 수 있다.
이에 대해서는 31 장에서 자세히 설명한다.
